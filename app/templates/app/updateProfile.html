{% extends 'main.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/plugins.css' %}">
    
<!-- Main Style CSS -->
<link rel="stylesheet" href="{% static 'css/style.css' %}">
<link rel="stylesheet" href="{% static 'css/custom.css' %}">
<br><br>
<div class="main-wrapper">
    <div class="preloader">
        <div class="lds-ripple">
            <div class="lds-pos"></div>
            <div class="lds-pos"></div>
        </div>
    </div>
    <div class="auth-wrapper d-flex no-block justify-content-center align-items-center position-relative">
        <div style="box-shadow: 0 15px 30px rgba(8, 8, 8, 0.556);padding: 20px;" class="col-lg-5 col-md-7 bg-white">
            <div class="p-3">
                {% if form %}
                <h2 class="mt-3 text-center text-dark">Update Profile</h2>
                <p class="text-center"></p>
                {% for message in messages %}
                <div class="alert {{message.tags}} alert-dismissible" role="alert">
                    <button type="submit" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    {{message | safe}}
                </div>
                {% endfor %}
                <form class="mt-4" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <table style="width: fit-content;" id="zero_config" class="table table-striped table-bordered no-wrap">
                        <thead>
                            <div class="row">
                                {{form.tittle.as_hidden}}
                                {{form.user.as_hidden}}
                                {{form.leave_days.as_hidden}}
                                {{form.job_group.as_hidden}}
                                {{form.reporting_to.as_hidden}}
                                {{form.department.as_hidden}}
                                {{form.username.as_hidden}}
                                {{form.last_leave_year.as_hidden}}
                                {{form.leave_days_previous_year.as_hidden}}
                                {{form.leave_days_utilized_previous_year.as_hidden}}
                            <tr style="color: black;">
                                <tr style="color: black;">
                                    <th>Namer</th>
                                    <td>{{form.name}}</td>
                                </tr>
                                <tr style="color: black;">
                                    <th>Email</th>
                                    <td>{{form.email}}</td>
                                </tr>
                                <tr style="color: black;">
                                    <th>Image</th>
                                    <td>
                                        {{form.image}}
                                    </td>
                                </tr>
                            </tr>
                        </thead>
                    </table>
                    <div class="col-lg-12 text-center">
                        <button style="background-color: green;" type="submit" class="btn btn-block btn-dark">Update Profile</button>
                    </div>
                </form>
                {% else %}
                <h2 class="mt-3 text-center text-dark">Change Password</h2>
                <p class="text-center"></p>
                {% for data in messages %}
                <p style="color: red;text-align: center;">{{data}}</p>
                {% endfor %}  
                <form class="mt-4" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {{password_form.as_p}}
                <br>
                <div class="col-lg-12 text-center">
                    <button style="background-color: green;" type="submit" class="btn btn-block btn-dark">Change Password</button>
                </div>
                </form>
                {% endif %}
            </div>
        </div>
    </div>
</div>
    <footer class="footer text-center text-muted">
        All Rights Reserved. Designed and Developed by
        <a href="https://wrappixel.com">..........</a>.
    </footer>
</div>
{% endblock content %}